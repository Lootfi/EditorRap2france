(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{433:function(t,e,a){"use strict";a.r(e);var i=a(17),s=a.n(i),r=a(72),n=a.n(r),l=(a(166),{components:{Cropper:n.a,vSelect:s.a},props:{data:{type:Object,required:!0}},data:function(){return{name:"",avatar:"",isSending:!1,imgURL:"",rotation:0}},methods:{handleAccountSubmit:function(t){var e=this;t.preventDefault(),this.$validator.validateAll().then((function(t){if(t){e.isSending=!0;var a=e.$refs.clipper.clip().toDataURL("image/jpeg",1);e.$http.post("/api/settings/artists/add-new-artist",{name:e.name,avatar:a},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(t){e.isSending=!1,e.$vs.dialog({color:"primary",title:"",text:"Artiste crée ! "}),e.$router.push("/settings/artists")})).catch((function(t){this.isSending=!1,this.$vs.dialog({color:"danger",title:"",text:"Erreur lors de la création"})}))}}))}}}),o=a(3),c=Object(o.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"page-user-view"}},[a("vs-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("h3",[t._v("\n        Créer Un Artist\n      ")])]),t._v(" "),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"alpha_spaces|required",expression:"'alpha_spaces|required'"}],staticClass:"w-full mt-4",attrs:{label:"Nom",name:"name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name"),expression:"errors.has('name')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("name")))])],1)]),t._v(" "),a("div",{staticStyle:{"max-width":"100%"}},[a("div",{staticClass:"my-4"},[a("clipper-upload",{staticClass:"inline-block p-2 my-2 bg-primary rounded text-white",model:{value:t.imgURL,callback:function(e){t.imgURL=e},expression:"imgURL"}},[t._v("Importer La photo de l'éditeur")]),t._v(" "),a("div",{staticClass:"flex",staticStyle:{"max-width":"100%"}},[a("clipper-basic",{ref:"clipper",staticClass:" flex-grow-3",attrs:{src:t.imgURL,preview:"my-preview",rotate:t.rotation}}),t._v(" "),a("clipper-preview",{staticClass:"flex-grow-2 ml-2 my-clipper",attrs:{name:"my-preview"}})],1),t._v(" "),t.imgURL?a("div",{staticClass:"centerx"},[a("vs-input-number",{attrs:{min:"0",max:"360",step:"90",label:"Rotation"},model:{value:t.rotation,callback:function(e){t.rotation=e},expression:"rotation"}})],1):t._e()],1)])]),t._v(" "),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-full"},[a("div",{staticClass:"mt-8 flex flex-wrap items-center justify-end"},[a("vs-button",{staticClass:"ml-auto mt-2",attrs:{disabled:t.isSending},on:{click:t.handleAccountSubmit}},[t._v("Save Changes")])],1)])])],1)}),[],!1,null,null,null);e.default=c.exports}}]);
//# sourceMappingURL=21.js.map
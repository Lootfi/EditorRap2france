(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{433:function(e,a,s){"use strict";s.r(a);var r=s(17),t=s.n(r),i=s(72),l=s.n(i),o=(s(166),{components:{Cropper:l.a,vSelect:t.a},props:{data:{type:Object,required:!0}},data:function(){return{username:"",name:"",email:"",password:"",confirmPassword:"",biography:"",status:"",role:"",country:"",mobile:"",imgURL:"",rotation:0,adresse:"",gender:"",avatar:"",isSending:"",statusOptions:[{label:"Activé",value:"1"},{label:"Suspendu",value:"2"}],roleOptions:[{label:"Administrateur",value:"Admin"},{label:"Editeur",value:"Editor"}]}},methods:{handleAccountSubmit:function(e){var a=this;e.preventDefault(),this.$validator.validateAll().then((function(e){if(e){a.$refs.clipper.clip().toDataURL("image/jpeg",1);a.isSending=!0,a.$http.post("/api/users/add-new-user",{username:a.username,full_name:a.name,email:a.email,status:a.status,role:a.role,password:a.password,biography:a.biography,country:a.country,mobile:a.mobile,adresse:a.adresse,gender:a.gender,avatar:a.ResultAvatar},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){a.isSending=!1,a.$vs.dialog({color:"primary",title:"",text:"Editeur crée ! "}),a.$router.push("/editors")})).catch((function(e){this.isSending=!1,this.$vs.dialog({color:"danger",title:"",text:"Erreur lors de la création"})}))}}))}}}),n=s(3),v=Object(n.a)(o,(function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{attrs:{id:"page-user-view"}},[s("vs-card",[s("div",{attrs:{slot:"header"},slot:"header"},[s("h3",[e._v("\n        Créer Un editeur\n      ")])]),e._v(" "),s("div",{staticClass:"vx-row"},[s("div",{staticClass:"vx-col md:w-1/2 w-full"},[s("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"alpha_num|required",expression:"'alpha_num|required'"}],staticClass:"w-full mt-4",attrs:{label:"Nom d'utilisateur",name:"username"},model:{value:e.username,callback:function(a){e.username=a},expression:"username"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("username"),expression:"errors.has('username')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("username")))]),e._v(" "),s("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"alpha_spaces|required",expression:"'alpha_spaces|required'"}],staticClass:"w-full mt-4",attrs:{label:"Nom",name:"name"},model:{value:e.name,callback:function(a){e.name=a},expression:"name"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("name"),expression:"errors.has('name')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("name")))]),e._v(" "),s("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"email|required",expression:"'email|required'"}],staticClass:"w-full mt-4",attrs:{label:"Email",type:"email",name:"email"},model:{value:e.email,callback:function(a){e.email=a},expression:"email"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("email"),expression:"errors.has('email')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("email")))]),e._v(" "),s("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:35",expression:"'required|min:3|max:35'"}],ref:"password",staticClass:"w-full mt-4",attrs:{label:"Mot de passe",type:"password",name:"password"},model:{value:e.password,callback:function(a){e.password=a},expression:"password"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("password"),expression:"errors.has('password')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("password")))]),e._v(" "),s("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|confirmed:password",expression:"'required|confirmed:password'"}],staticClass:"w-full mt-4",attrs:{label:"Confirmation du mot de passe",type:"password",name:"confirmPassword"},model:{value:e.confirmPassword,callback:function(a){e.confirmPassword=a},expression:"confirmPassword"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("confirmPassword"),expression:"errors.has('confirmPassword')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("confirmPassword")))]),e._v(" "),s("vs-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full mt-4",attrs:{label:"Bio",name:"biography",placeholder:"Biographie"},model:{value:e.biography,callback:function(a){e.biography=a},expression:"biography"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("biography"),expression:"errors.has('biography')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("biography")))])],1),e._v(" "),s("div",{staticClass:"vx-col md:w-1/2 w-full"},[s("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Adresse",name:"adresse"},model:{value:e.adresse,callback:function(a){e.adresse=a},expression:"adresse"}}),e._v(" "),s("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Pays",name:"country"},model:{value:e.country,callback:function(a){e.country=a},expression:"country"}}),e._v(" "),s("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Mobile",name:"mobile"},model:{value:e.mobile,callback:function(a){e.mobile=a},expression:"mobile"}}),e._v(" "),s("div",{staticClass:"mt-4"},[s("label",{staticClass:"vs-input--label"},[e._v("Etat")]),e._v(" "),s("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{clearable:!1,options:e.statusOptions,name:"status",dir:e.$vs.rtl?"rtl":"ltr"},model:{value:e.status,callback:function(a){e.status=a},expression:"status"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("status"),expression:"errors.has('status')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("status")))])],1),e._v(" "),s("div",{staticClass:"mt-4"},[s("label",{staticClass:"vs-input--label"},[e._v("Role")]),e._v(" "),s("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{clearable:!1,options:e.roleOptions,name:"role",dir:e.$vs.rtl?"rtl":"ltr"},model:{value:e.role,callback:function(a){e.role=a},expression:"role"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("role"),expression:"errors.has('role')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("role")))])],1),e._v(" "),s("div",{staticClass:"mt-4"},[s("label",{staticClass:"text-sm"},[e._v("Sexe")]),e._v(" "),s("div",{staticClass:"mt-2"},[s("vs-radio",{staticClass:"mr-4",attrs:{"vs-value":"Male"},model:{value:e.gender,callback:function(a){e.gender=a},expression:"gender"}},[e._v("Male")]),e._v(" "),s("vs-radio",{staticClass:"mr-4",attrs:{"vs-value":"Female"},model:{value:e.gender,callback:function(a){e.gender=a},expression:"gender"}},[e._v("Female")])],1)])],1)]),e._v(" "),s("div",{staticClass:"my-4"},[s("clipper-upload",{staticClass:"inline-block p-2 my-2 bg-primary rounded text-white",model:{value:e.imgURL,callback:function(a){e.imgURL=a},expression:"imgURL"}},[e._v("Importer La photo de l'éditeur")]),e._v(" "),s("div",{staticClass:"flex",staticStyle:{"max-width":"100%"}},[s("clipper-basic",{ref:"clipper",staticClass:" flex-grow-3",attrs:{src:e.imgURL,preview:"my-preview",rotate:e.rotation}}),e._v(" "),s("clipper-preview",{staticClass:"flex-grow-2 ml-2 my-clipper",attrs:{name:"my-preview"}})],1),e._v(" "),e.imgURL?s("div",{staticClass:"centerx"},[s("vs-input-number",{attrs:{min:"0",max:"360",step:"90",label:"Rotation"},model:{value:e.rotation,callback:function(a){e.rotation=a},expression:"rotation"}})],1):e._e()],1)]),e._v(" "),s("div",{staticClass:"vx-row"},[s("div",{staticClass:"vx-col w-full"},[s("div",{staticClass:"mt-8 flex flex-wrap items-center justify-end"},[s("vs-button",{staticClass:"ml-auto mt-2",attrs:{disabled:e.isSending},on:{click:e.handleAccountSubmit}},[e._v("Save Changes")])],1)])])],1)}),[],!1,null,null,null);a.default=v.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{429:function(t,a,e){"use strict";e.r(a);var i={data:function(){return{articleData:null,article_not_found:!1,article_raw:!1,isDeleting:!1,isPublished:!1}},computed:{activeUserInfo:function(){return this.$store.state.AppActiveUser}},mounted:function(){var t=this;this.$vs.loading({type:"corners",text:"Patientez s'il vous plait"}),this.$http.get("/api/articles/".concat(this.$route.params.tag),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(a){t.$vs.loading.close(),"Article not found"==a.data&&t.$router.push("/articles"),t.articleData=a.data,1==t.articleData.status?t.isPublished=!1:t.isPublished=!0,"raw"==a.data.ContenuFormat.type?t.article_raw=!0:t.articleData.ContenuFormat.contenu=t.JsonFormatter(t.articleData)})).catch((function(t){console.error(t)}))},methods:{showActions:function(t){return("Admin"==this.activeUserInfo.user.role||this.activeUserInfo.user.email==t.Creator.email)&&"Activé"==this.activeUserInfo.user.StatusName},isJsonArticle:function(t){return"raw"!=t.ContenuFormat.type},handleDelete:function(t){var a=this;t.preventDefault(),this.$http.get("/api/articles/".concat(this.$route.params.tag,"/delete"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(t){a.$router.push("/articles")})).catch((function(t){console.error(t)}))},JsonFormatter:function(t){var a=t.ContenuFormat.contenu,e="";return a.blocks.map((function(t){if("paragraph"==t.type&&(e="".concat(e,'<div class="my-4"><p>').concat(t.data.text,"</p></div>")),"list"==t.type){if("ordered"==t.data.style){var a="";t.data.items.map((function(t){a="".concat(a,"<li>").concat(t,"</li>")})),e="".concat(e,'<div class="m-4"><ol style="list-style-type:decimal;" >').concat(a,"</ol></div>")}if("unordered"==t.data.style){a="";t.data.items.map((function(t){a="".concat(a,"<li>").concat(t,"</li>")})),e="".concat(e,'<div class="m-4"><ul style="list-style-type:disc;">').concat(a,"</ul></div>")}}if("header"==t.type&&(e="".concat(e,'<div class="my-4"><h').concat(t.data.level,">").concat(t.data.text,"</h").concat(t.data.level,"></div>")),"quote"==t.type&&(e="".concat(e,'<div class="my-4">\n                <blockquote class="relative p-4 text-xl italic border-l-4 bg-neutral-100 text-neutral-600 border-neutral-500 quote">\n                       <div style="font-size: 5rem; right: 100%;" class="mr-2 font-dank-mono text-neutral-500 absolute top-0 leading-none;" aria-hidden="true">\n                         &ldquo;\n                      </div>\n                              <p class="mb-4 text-3xl italic">').concat(t.data.text,'</p>\n                              <cite class="flex items-center">\n                              <div class="flex flex-col items-start">\n                                <span class="mb-1 text-sm italic font-bold">\n                                Said By \n                                  ').concat(t.data.caption,"\n                                </span>\n                              </div>\n                              </cite>\n                      </blockquote></div>")),"image"==t.type&&(t.data.file&&(e="".concat(e,'<div class="my-4 "><img style="max-width:100%;" src="').concat(t.data.file.url,'" />\n              <p class="text-center mt-2 font-bold">').concat(t.data.caption,"</p>\n              </div>")),t.data.url&&(e="".concat(e,'<div class="my-4 "><img style="max-width:100%;" src="').concat(t.data.url,'" />\n              <p class="text-center mt-2 font-bold">').concat(t.data.caption,"</p>\n              </div>"))),"embed"==t.type){if("instagram"==t.data.service){var i='<iframe width="'.concat(t.data.width,'" height="').concat(t.data.height,'" src="').concat(t.data.embed,'" frameborder="0"></iframe><p class="text-center mt-2 font-bold">').concat(t.data.caption,"</p>");e="".concat(e,'<div class="my-4 text-center">').concat(i,"</div>")}if("youtube"==t.data.service){var c='<iframe width="'.concat(t.data.width,'" height="').concat(t.data.height,'" src="').concat(t.data.embed,'" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><p class="text-center font-bold">').concat(t.data.caption,"</p>");e="".concat(e,'<div class="my-4 mx-auto text-center">').concat(c,"</div>")}if("twitter"==t.data.service){var r="<iframe border=0 frameborder=0 height=".concat(t.data.height," width=").concat(t.data.width,"\n                    src=").concat(t.data.embed,'></iframe><p class="text-center mt-2 font-bold">').concat(t.data.caption,"</p>");e="".concat(e,'<div class="my-4 mx-auto text-center">').concat(r,"</div>")}}})),e}}},c=e(3),r=Object(c.a)(i,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"knowledge-base-article"}},[e("div",[e("div",{staticClass:"vx-col w-full  mt-12 md:mt-0 "},[e("vx-card",[e("div",{staticClass:"article-title   mb-6 py-4"},[e("h1",{staticClass:"text-5xl text-center my-2",staticStyle:{"font-family":"times new roman"}},[t._v("\n            "+t._s(t.articleData.titre)+"\n          ")]),t._v(" "),e("div",{staticClass:"flex items-center"},[e("div",{staticClass:"flex items-center "},[e("vs-avatar",{attrs:{size:"large",src:"/images/admin/users/avatars/"+t.articleData.Creator.Details.picture},on:{click:function(a){return t.$router.push("/editors/"+t.articleData.Creator.slug)}}}),t._v(" "),e("div",{staticClass:"ml-2"},[e("p",{staticClass:"font-bold text-teal-600",on:{click:function(a){return t.$router.push("/editors/"+t.articleData.Creator.slug)}}},[t._v("\n                  "+t._s(t.articleData.Creator.Full_Name)+"\n                ")]),t._v(" "),e("p",[t._v("Last updated on "+t._s(t.articleData.updated_at))]),t._v(" "),e("p",[t.isPublished?e("span",[t._v("Publié")]):e("span",[t._v("À Publier")]),t._v(" Le :"+t._s(t.articleData.dateactu)+" ")])])],1),t._v(" "),t.showActions(t.articleData)?e("div",[e("div",{staticClass:"dropdown-button-container"},[e("vs-dropdown",[e("vs-button",{staticClass:"btn-drop",attrs:{color:"rgba(0,0,0,0)",type:"gradient",icon:"more_horiz"}}),t._v(" "),e("vs-dropdown-menu",[t.isJsonArticle(t.articleData)?e("vs-dropdown-item",{on:{click:function(a){return t.$router.push("/articles/"+t.articleData.tag+"/edit")}}},[t._v("\n                      Modifier")]):t._e(),t._v(" "),e("vs-dropdown-item",{attrs:{divider:""},on:{click:t.handleDelete}},[t._v("\n                      Supprimer\n                    ")])],1)],1)],1)]):t._e()])]),t._v(" "),e("p",[t._v("Category : "+t._s(t.articleData.Category.nom))]),t._v(" "),e("div",{staticClass:"flex items-center my-4"},[e("div",[t._v("Artists :")]),t._v(" "),e("ul",{staticClass:"users-liked user-list ml-3 sm:ml-6"},t._l(t.articleData.Artists,(function(a,i){return e("li",{key:i},[e("vx-tooltip",{attrs:{text:a.name,position:"bottom"}},[e("vs-avatar",{staticClass:"border-2 border-white border-solid -m-1",attrs:{src:a.Avatar,size:"large"},on:{click:function(e){return t.$router.push("/artists/"+a.slug)}}})],1)],1)})),0)]),t._v(" "),e("div",{staticClass:"todo-tags my-4 flex"},t._l(t.articleData.Hashtags,(function(a,i){return e("vs-chip",{key:i},[e("span",[t._v(t._s(a.nom))])])})),1),t._v(" "),e("div",{staticClass:"text-center  "},[t.articleData.image?e("img",{staticClass:"max-w-full h-auto mx-auto",attrs:{src:"/images/admin/articles/avatars/"+t.articleData.image}}):t._e()]),t._v(" "),e("vs-divider",[t._v(" L'article ")]),t._v(" "),(t.article_raw,e("div",[e("div",{domProps:{innerHTML:t._s(t.articleData.ContenuFormat.contenu)}})]))],1)],1)])])}),[],!1,null,null,null);a.default=r.exports}}]);